import{S as s}from"./logoutHandler-XduYXRLY.js";import"./app-DpJqcnnp.js";const i=new s;async function d({avatarUrl:e,bannerUrl:o}){try{const t=[];if(e){const r={avatar:e};console.log("Sender avatar update:",r),t.push(i.updateUserProfile(r))}if(o){const r={banner:o};console.log("Sender banner update:",r),t.push(i.updateUserProfile(r))}const n=await Promise.all(t),a=n[n.length-1];return console.log("Updated profile:",a),a.avatar?localStorage.setItem("avatar",a.avatar):localStorage.removeItem("avatar"),a.banner?localStorage.setItem("banner",a.banner):localStorage.removeItem("banner"),a}catch(t){throw console.error("Error updating profile:",t),t}}const c=document.getElementById("updateProfileForm");c.addEventListener("submit",async e=>{e.preventDefault();const o=document.getElementById("avatar").value.trim(),t=document.getElementById("banner").value.trim();console.log("Form data:",{avatarUrl:o,bannerUrl:t});try{await d({avatarUrl:o,bannerUrl:t}),window.location.reload()}catch{alert("Failed to update profile. See console for details.")}});const l=document.getElementById("editProfileButton");l.addEventListener("click",()=>{const e=document.getElementById("updateProfileForm");e.style.display==="none"||e.style.display===""?(e.style.display="block",l.textContent="Cancel Edit"):(e.style.display="none",l.textContent="Edit Profile")});
