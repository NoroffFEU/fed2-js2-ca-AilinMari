import{a as f}from"./authGuard-C2GFzsuy.js";import{S as g}from"./logoutHandler-XduYXRLY.js";f();let C=new g;const E=localStorage.getItem("name"),h=await C.getUserProfile(E);console.log("profile",h);function v(t){const l=document.getElementById("profileInfo"),e=document.createElement("h1");e.textContent=t.data.name;const n=document.createElement("div");n.className="profile-info-container";const a=document.createElement("img");a.src=t.data.avatar.url,a.alt=t.data.avatar.alt||`${t.name}'s avatar`,a.className="profile-avatar";const o=document.createElement("div");o.className="followers-posts-count";const r=document.createElement("p");r.textContent=`Posts: ${t.data._count.posts}`;const c=document.createElement("p");c.textContent=`Followers: ${t.data._count.followers}`;const s=document.createElement("p");s.textContent=`Following: ${t.data._count.following}`,l.appendChild(n),n.append(a,e),l.appendChild(o),o.append(r,c,s)}v(h);const p=await C.getAllPosts();console.log(p);function w(t){const l=document.getElementById("storyfeed");if(!l){console.error("Error: #blogpostsContainer not found in DOM");return}if(l.innerHTML="",!Array.isArray(p)||p.length===0){l.innerHTML="<p>No blog posts available.</p>";return}t.forEach(e=>{const n=document.createElement("div");n.className="container";const a=document.createElement("a");a.href=`../../post/?id=${e.id}`;const o=document.createElement("a");o.href=`../../profile/view/?author=${e.author.name}`,o.className="profile-link";const r=document.createElement("img");r.src=e.media?.url,r.alt=e.media?.alt,r.className="post-image";const c=document.createElement("h2");c.textContent=e.title,c.className="post-title";const s=document.createElement("div");s.className="textContentContainer";const d=document.createElement("div");d.className="author-container";const m=document.createElement("p");m.textContent=e.author?.name,m.className="author-name";const u=document.createElement("p");u.textContent=e.body,u.className="bodyText";const i=document.createElement("img");i.src=e.author?.avatar.url,i.alt=e.author?.avatar.alt||`${e.author.name}'s avatar`,i.className="user-avatar",a.appendChild(r),a.appendChild(c),n.appendChild(d),d.appendChild(i),d.appendChild(o),o.appendChild(m),o.appendChild(i),n.appendChild(a),d.appendChild(m),n.appendChild(s),s.appendChild(u),l.appendChild(n)})}async function N(){const t=await C.getAllPosts();console.log(t),w(t)}N();
