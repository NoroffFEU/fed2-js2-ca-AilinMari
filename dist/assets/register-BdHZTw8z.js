import{A as c}from"./logoutHandler-XduYXRLY.js";async function d({name:a,email:o,password:n}){try{const t={name:a,email:o,password:n};console.log("Sending payload:",t);const r=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.json();console.error("API Error Response:",e);const i=e.errors&&e.errors.length>0?e.errors[0].message:r.statusText;throw new Error(`Registration failed: ${i}`)}return await r.json()}catch(t){throw console.error("Error during registration:",t.message),t}}document.addEventListener("DOMContentLoaded",()=>{document.querySelector("form").addEventListener("submit",async o=>{o.preventDefault();const n=document.getElementById("name").value,t=document.getElementById("email").value,r=document.getElementById("password").value;try{await d({name:n,email:t,password:r}),window.location.href="/auth/login/"}catch(s){const e=document.querySelector(".registerFailed");e&&(e.textContent=s.message||"Registration failed. Please try again.",e.style.color="red")}})});
